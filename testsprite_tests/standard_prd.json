{
  "meta": {
    "project": "Sistem Informasi Perhutanan Sosial & PKS",
    "date": "2026-01-09",
    "prepared_by": "Generated by Development Manager"
  },
  "product_overview": "Sistem Informasi Perhutanan Sosial & PKS adalah platform internal yang dikembangkan untuk Yayasan Antangpatahu Mahaga Lewu guna mengelola, memantau, dan mengevaluasi program Perhutanan Sosial di 4 kabupaten secara terpusat, real-time, dan terstruktur. Sistem ini mendukung siklus lengkap perencanaan, implementasi, monitoring, evaluasi, dan pelaporan program Perhutanan Sosial serta proyek karbon terkait dengan keamanan akses berbasis peran dan multi-bahasa.",
  "core_goals": [
    "Menyediakan platform digital terpusat untuk manajemen data Perhutanan Sosial menggantikan sistem manual spreadsheet.",
    "Mendukung siklus lengkap operasional program dari perencanaan, implementasi, monitoring, evaluasi hingga pelaporan.",
    "Memastikan keamanan data dan akses dengan sistem Role-Based Access Control (RBAC) yang komprehensif.",
    "Memudahkan proses upload dan import data massal melalui sistem Excel Import dengan validasi data.",
    "Menyediakan dashboard statistik dan visualisasi data real-time untuk analisis dan pemantauan program.",
    "Menghasilkan dokumen DRAM dan PDD secara otomatis dari data terstruktur untuk kebutuhan audit dan pelaporan.",
    "Mengintegrasikan manajemen program karbon, termasuk pembuatan dan tracking proyek karbon.",
    "Mendukung multi-bahasa (Bahasa Indonesia dan Chinese Traditional) untuk kemudahan penggunaan oleh berbagai user."
  ],
  "key_features": [
    "Sistem autentikasi pengguna menggunakan Supabase Auth dengan session management dan JWT token.",
    "Implementasi Role-Based Access Control (RBAC) dengan 6 role pengguna dan permission yang detail.",
    "Dashboard Nasional yang menampilkan statistik agregat dan status PS serta tampilan data per kabupaten.",
    "Manajemen data Perhutanan Sosial dengan fitur tabel data, detail profil PS lengkap dengan multiple tabs (Ringkasan, Kelembagaan, Dokumen, Peta, Galeri, Kegiatan, Catatan).",
    "Fitur import data massal dari file Excel dengan proses validasi, preview, dan error handling.",
    "Modul manajemen proyek karbon dengan fitur pembuatan, status tracking, dan output yang sesuai standar.",
    "Manajemen program lengkap beserta DRAM (Dokumen Rencana Aksi Mitigasi) yang aktif dan terstruktur.",
    "Fitur monitoring dan evaluasi program dengan tracking indikator dan laporan Monev.",
    "Fungsi pemberdayaan ekonomi PS, stakeholder management, dan manajemen dokumen legal yang komprehensif.",
    "PDD Generator otomatis untuk membuat dokumen Project Design Document dari data yang ada.",
    "Dukungan multi-bahasa dengan next-intl dan UI adaptasi role-based.",
    "UI/UX yang responsif dan konsisten dengan Tailwind CSS dan Radix UI."
  ],
  "user_flow_summary": [
    "User mengakses aplikasi dan melakukan login menggunakan email dan password via Supabase Auth.",
    "Setelah login, user diarahkan ke dashboard utama sesuai role dengan data dan menu yang sesuai.",
    "User dapat mengakses modul data PS, melihat daftar dan detail lengkap unit PS, serta melakukan pencarian dan filter data.",
    "Admin dan Monev dapat melakukan upload file Excel, preview data, dan melakukan import data ke sistem dengan feedback status.",
    "Carbon Specialist menggunakan modul PDD Generator untuk memilih proyek karbon dan menghasilkan dokumen PDD otomatis.",
    "Program Planner dan Admin dapat mengelola program dan DRAM, membuat, mengedit, dan memantau status program dan aksi mitigasi.",
    "Program Implementer dapat melakukan update progres implementasi program dan mengupload bukti lapangan.",
    "Monev dapat melakukan monitoring dan evaluasi indikator sosial, ekonomi, dan karbon melalui fitur Monev.",
    "User Viewer hanya dapat mengakses data secara read-only sesuai akses yang diberikan.",
    "Multi-language support memungkinkan user untuk berganti bahasa antara Bahasa Indonesia dan Chinese Traditional melalui UI language switcher."
  ],
  "validation_criteria": [
    "Sistem harus menyediakan autentikasi yang aman menggunakan Supabase Auth dengan session dan token JWT yang valid.",
    "Role-Based Access Control harus memproteksi akses data dan fitur sesuai dengan spesifikasi peran pengguna dan menerapkan validasi server-side dan database-level RLS.",
    "Dashboard harus menampilkan statistik yang akurat dan up-to-date dengan data yang ada di database.",
    "Import data Excel harus melakukan validasi format dengan preview data dan error handling yang mencegah data invalid masuk ke database.",
    "Manajemen data PS harus menyediakan halaman daftar, pencarian, filter, serta detail profil dengan data lengkap dan konsisten.",
    "Fungsi PDD Generator harus menghasilkan dokumen PDD otomatis berdasarkan data yang tersimpan tanpa ada data yang dibuat secara artifisial.",
    "Progres implementasi program harus bisa diperbarui dan bukti lapangan dapat diupload dan tersimpan dengan baik.",
    "Fitur monitoring dan evaluasi harus mendukung pencatatan target vs realisasi dan menghasilkan laporan yang dapat diverifikasi.",
    "Sistem harus mendukung multi-bahasa dengan tampilan dan navigasi yang sesuai bahasa pilihan pengguna.",
    "Performa aplikasi harus memenuhi standar waktu respon untuk load halaman, API, dan upload file sesuai dengan requirement.",
    "Keamanan harus dijaga dengan mekanisme perlindungan CSRF, XSS, SQL Injection, dan pengaturan header keamanan yang tepat."
  ],
  "code_summary": {
    "tech_stack": [
      "TypeScript",
      "Next.js 16.1.1",
      "React 19.2.3",
      "Supabase",
      "PostgreSQL",
      "Tailwind CSS",
      "next-intl",
      "React Hook Form",
      "Zod",
      "XLSX"
    ],
    "features": [
      {
        "name": "Authentication System",
        "description": "User authentication using Supabase Auth with email/password login, session management, and JWT tokens",
        "files": [
          "app/[locale]/(auth)/login/page.tsx",
          "lib/supabase/client.ts",
          "lib/supabase/server.ts",
          "middleware.ts"
        ]
      },
      {
        "name": "Role-Based Access Control (RBAC)",
        "description": "Comprehensive RBAC system with 6 user roles (admin, monev, viewer, program_planner, program_implementer, carbon_specialist) and permission checking functions",
        "files": [
          "lib/auth/rbac.ts"
        ]
      },
      {
        "name": "Dashboard Nasional",
        "description": "Main dashboard displaying aggregate statistics including total PS count, total area, RKPS status, map status, and kabupaten-level statistics",
        "files": [
          "app/[locale]/dashboard/page.tsx"
        ]
      },
      {
        "name": "Data PS Management",
        "description": "Data table for managing Perhutanan Sosial records with filtering, searching, and pagination capabilities",
        "files": [
          "app/[locale]/dashboard/data/page.tsx",
          "components/dashboard/data-table.tsx"
        ]
      },
      {
        "name": "PS Profile Detail",
        "description": "Detailed profile page for individual PS records with multiple tabs: Ringkasan, Kelembagaan, Dokumen, Peta, Galeri, Kegiatan, Catatan",
        "files": [
          "app/[locale]/ps/[psId]/page.tsx",
          "app/[locale]/ps/[psId]/types.ts",
          "app/[locale]/ps/[psId]/components"
        ]
      },
      {
        "name": "Excel Import System",
        "description": "Excel file upload, parsing, and import functionality for bulk data import with validation and error handling",
        "files": [
          "app/api/excel/import/route.ts",
          "lib/excel/parser.ts",
          "app/[locale]/dashboard/upload/page.tsx"
        ]
      },
      {
        "name": "Kabupaten Management",
        "description": "Kabupaten-level data management with detailed statistics, filtering, and navigation to individual kabupaten pages",
        "files": [
          "app/[locale]/dashboard/kabupaten/page.tsx",
          "app/[locale]/dashboard/kabupaten/[id]/page.tsx"
        ]
      },
      {
        "name": "Internationalization (i18n)",
        "description": "Multi-language support for Bahasa Indonesia and Chinese Traditional using next-intl with language switching",
        "files": [
          "i18n.ts",
          "i18n/locales.ts",
          "i18n/messages/id.json",
          "i18n/messages/zh-TW.json",
          "components/ui/language-switcher.tsx",
          "middleware.ts"
        ]
      },
      {
        "name": "Statistics Dashboard",
        "description": "Statistics and analytics dashboard with charts and visualizations for data analysis",
        "files": [
          "app/[locale]/dashboard/statistics/page.tsx"
        ]
      },
      {
        "name": "User Profile Management",
        "description": "User profile viewing and editing functionality with validation",
        "files": [
          "app/[locale]/dashboard/profile/page.tsx",
          "app/[locale]/dashboard/profile/edit/page.tsx"
        ]
      },
      {
        "name": "Carbon Projects Management",
        "description": "Carbon project management module for carbon specialists and admins",
        "files": [
          "app/[locale]/dashboard/carbon-projects/page.tsx"
        ]
      },
      {
        "name": "Programs Management",
        "description": "Program management functionality for program planners",
        "files": [
          "app/[locale]/dashboard/programs/page.tsx"
        ]
      },
      {
        "name": "Potensi Data Management",
        "description": "Potential data management for tracking potential forest areas",
        "files": [
          "app/[locale]/dashboard/potensi/page.tsx"
        ]
      },
      {
        "name": "UI Components Library",
        "description": "Reusable UI components built with Radix UI and Tailwind CSS including buttons, cards, tables, inputs, dropdowns, tabs, and more",
        "files": [
          "components/ui/button.tsx",
          "components/ui/card.tsx",
          "components/ui/table.tsx",
          "components/ui/input.tsx",
          "components/ui/select.tsx",
          "components/ui/tabs.tsx",
          "components/ui/dropdown-menu.tsx",
          "components/ui/alert.tsx",
          "components/ui/badge.tsx",
          "components/ui/avatar.tsx",
          "components/ui/label.tsx"
        ]
      },
      {
        "name": "Dashboard Layout Components",
        "description": "Dashboard layout components including header, sidebar navigation, and data table",
        "files": [
          "components/dashboard/header.tsx",
          "components/dashboard/sidebar.tsx",
          "components/dashboard/data-table.tsx",
          "app/[locale]/dashboard/layout.tsx"
        ]
      },
      {
        "name": "Supabase Client Integration",
        "description": "Supabase client setup for both browser and server-side operations with authentication and database queries",
        "files": [
          "lib/supabase/client.ts",
          "lib/supabase/server.ts"
        ]
      },
      {
        "name": "Type Definitions",
        "description": "TypeScript type definitions for PS data structures and enums",
        "files": [
          "lib/types/pks.ts"
        ]
      },
      {
        "name": "API Routes",
        "description": "Next.js API routes for server-side operations including Excel import",
        "files": [
          "app/api/excel/import/route.ts"
        ]
      }
    ]
  }
}
